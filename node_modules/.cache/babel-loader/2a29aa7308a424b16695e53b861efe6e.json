{"ast":null,"code":"// import {service} from '@services/index.js'\nexport default {\n  data() {\n    return {\n      postOtherData: {\n        storeName: '',\n        phone: '',\n        description: ''\n      },\n      addfile: FormData,\n      postData: {\n        userId: '',\n        title: '',\n        body: ''\n      }\n    };\n  },\n\n  methods: {\n    async addNewFile() {\n      const addfile = document.getElementById(\"addfile\"); // const btn = document.getElementById(\"addfile-btn\");\n\n      const text = document.getElementById(\"addfile-text\");\n      addfile.addEventListener(\"change\", function () {\n        if (addfile.value) {\n          text.innerText = addfile.value.split('\\\\').pop().split('/').pop();\n        } else {\n          text.innerText = \"Файл не выбран\";\n        }\n      });\n    },\n\n    async createOther() {\n      let formData = new FormData();\n      fetch('http://192.168.31.180:4554', {\n        method: 'POST',\n        // headers: {\n        //     'Content-Type': 'multipart/form-data'\n        // },\n        body: formData.append('file', 'addfile')\n      }).then(res => res.formData()); // .then(data => console.log(res.json()))\n      // console.log(responce);\n    } // async setPost() {\n    //     fetch('192.168.31.180:4554/upload',{\n    //         method:  'POST',\n    //         headers: {\n    //         'Content-Type': 'application/json'\n    //         },\n    //         body: JSON.stringify({\n    //             userId: this.userId,\n    //             title:  this.title,\n    //             body:   this.body\n    //         })\n    //     })\n    //     .then(response => response.json())\n    //     .then(data => console.log(data))\n    // }\n\n\n  }\n};","map":{"version":3,"mappings":"AA6FA;AAEI,eAAc;EACVA,IAAI,GAAE;IACF,OAAM;MACFC,aAAa,EAAC;QACVC,SAAS,EAAE,EADD;QAEVC,KAAK,EAAE,EAFG;QAGVC,WAAW,EAAE;MAHH,CADZ;MAMFC,OAAO,EAAEC,QANP;MAOFC,QAAQ,EAAE;QACNC,MAAM,EAAE,EADF;QAENC,KAAK,EAAG,EAFF;QAGNC,IAAI,EAAI;MAHF;IAPR,CAAN;EAaH,CAfS;;EAgBVC,OAAO,EAAC;IACJ,MAAMC,UAAN,GAAkB;MACd,MAAMP,OAAM,GAAIQ,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB,CADc,CAEd;;MACA,MAAMC,IAAG,GAAIF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAb;MAEAT,OAAO,CAACW,gBAAR,CAAyB,QAAzB,EAAmC,YAAU;QACzC,IAAGX,OAAO,CAACY,KAAX,EAAiB;UACbF,IAAI,CAACG,SAAL,GAAiBb,OAAO,CAACY,KAAR,CAAcE,KAAd,CAAoB,IAApB,EAA0BC,GAA1B,GAAgCD,KAAhC,CAAsC,GAAtC,EAA2CC,GAA3C,EAAjB;QACJ,CAFA,MAGI;UACAL,IAAI,CAACG,SAAL,GAAiB,gBAAjB;QACJ;MACH,CAPD;IAQH,CAdG;;IAeJ,MAAMG,WAAN,GAAoB;MAChB,IAAIC,QAAO,GAAI,IAAIhB,QAAJ,EAAf;MACAiB,KAAK,CAAC,4BAAD,EAA+B;QAChCC,MAAM,EAAE,MADwB;QAEhC;QACA;QACA;QACAd,IAAI,EAAEY,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAuB,SAAvB;MAL0B,CAA/B,CAAL,CAOCC,IAPD,CAOMC,GAAE,IAAKA,GAAG,CAACL,QAAJ,EAPb,EAFgB,CAUhB;MACA;IACH,CA3BG,CA4BJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EA1CI;AAhBE,CAAd","names":["data","postOtherData","storeName","phone","description","addfile","FormData","postData","userId","title","body","methods","addNewFile","document","getElementById","text","addEventListener","value","innerText","split","pop","createOther","formData","fetch","method","append","then","res"],"sourceRoot":"","sources":["C:\\Users\\Caesar\\Desktop\\GosuDesk-main\\src\\views\\OtherPage.vue"],"sourcesContent":["<template>\n<div>\n    <div class=\"position-absolute d-flex align-items-center my-2 col-12\">\n        <div class=\"col-2\">\n            <img class=\"col-5\" alt=\"GosuLogo\" src=\"../assets/logoBlue.png\">\n        </div>\n        <div class=\"col my-2\">\n\n        </div>\n        <div class=\"col-2 text-end d-flex align-items-center justify-content-evenly pe-5\">\n            <div class=\"d-inline-block\" >\n                <h5>kaz</h5>\n            </div>\n            <div class=\"d-inline-block\">\n                <div class=\"form-check form-switch\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\">\n                </div>\n            </div>\n            <div class=\"d-inline-block me-2\">\n                <h5>ru</h5>\n            </div>\n        </div>\n        <div class=\"col-1 text-start\"><i class=\"bi bi-door-open-fill text-primary display-6\"></i></div>\n    </div>\n    <div class=\"height container-fluid d-flex flex-column align-items-center justify-content-center\"> \n        <div class=\"col-11\">  \n            <div class=\"btn bg-primary bg-opacity-50 col-xl-3 col-5 py-4 px-3\">\n                <img class=\"col-3 mb-3\" src=\"..\\assets\\image3.png\" alt=\"\">\n                <h4>Другое</h4>\n            </div>\n        </div>    \n        <div class=\"card col-5 bg-primary bg-opacity-50 mt-5 px-5\">\n            <form class=\"p-5 text-start\">\n                <div class=\"mb-3\">\n                    <label for=\"exampleFormControlInput1\" class=\"form-label\">Укажите название магазина или торговой точки:</label>\n                    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" v-model=\"postOtherData.storeName\">\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"exampleFormControlInput2\" class=\"form-label\">Укажите контактный телефон:</label>\n                    <input type=\"number\" class=\"form-control\" id=\"exampleFormControlInput2\" v-model=\"postOtherData.phone\" placeholder=\"8(777)777-77-77\">\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"exampleFormControlTextarea1\" class=\"form-label\">Опишите проблему:</label>\n                    <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"2\" v-model=\"postOtherData.description\"></textarea>\n                </div>\n                <div class=\"mb-3 position-relative d-flex\">\n                    <input id=\"addfile\" type=\"file\" hidden=\"hidden\" @click=\"addNewFile\" v-on=\"postOtherData.addfile\">\n                    <label class=\"btn p-0 m-0\" for=\"addfile\" id=\"addfile-btn\">\n                        <i class=\"bi bi-paperclip h4 d-inline-block\"></i>\n                        <h5 class=\"m-0 text-secondary my-auto d-inline-block\" id=\"addfile-text\">Файл</h5> \n                    </label>\n                </div>\n                <div class=\"form-floating\">\n                    <a class=\"btn btn-primary col-12 text-uppercase fs-6 fw-bolder py-2\" id=\"login\" @click=\"createOther\">СОЗДАТЬ ЗАЯВКУ</a>\n                </div>\n                <!-- <button class=\"btn\" @click=\"getPosts\">Show Posts</button>\n                <h2>{{ post.id }} - {{ post.title }}</h2>\n                <p>{{ post.body }}</p> -->\n            </form>\n            <form @submit.prevent=\"setPost\" class=\"text-start d-none\">\n                <div>\n                    <label class=\"form-label my-3\" for=\"userId\">UserID:</label>\n                    <input class=\"form-control\" type=\"text\" id=\"userId\" v-model=\"postData.userId\">\n                </div>\n                <div>\n                    <label class=\"form-label my-3\" for=\"title\">Title: </label>\n                    <input class=\"form-control\" type=\"text\" id=\"title\" v-model=\"postData.title\">\n                </div>\n                <div>\n                    <label class=\"form-label my-3\" for=\"body\">Body: </label>\n                    <textarea class=\"form-control\" id=\"body\" rows=\"2\" v-model=\"postData.body\"></textarea>\n                </div>\n                <button class=\"btn btn-light my-4\">Create Post</button>\n\n\n                <!-- <div class=\"mb-3 position-relative d-flex\">\n                    <input v-on=\"addfile\" id=\"addfile\" type=\"file\" hidden=\"hidden\" @click=\"addNewFile\">\n                    <label class=\"btn p-0 m-0\" for=\"addfile\" id=\"addfile-btn\">\n                        <i class=\"bi bi-paperclip h4 d-inline-block\"></i>\n                        <h5 class=\"m-0 text-secondary my-auto d-inline-block\" id=\"addfile-text\">Файл</h5> \n                    </label>\n                </div>\n                <div class=\"form-floating\">\n                    <a class=\"btn btn-primary col-12 text-uppercase fs-6 fw-bolder py-2\" id=\"login\" @click=\"createOther\">СОЗДАТЬ ЗАЯВКУ</a>\n                </div> -->\n            </form>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\n\n// import {service} from '@services/index.js'\n\n    export default{\n        data(){\n            return{\n                postOtherData:{\n                    storeName: '',\n                    phone: '',\n                    description: '',\n                },\n                addfile: FormData,\n                postData: {\n                    userId: '',\n                    title:  '',\n                    body:   ''\n                }\n            }\n        },\n        methods:{\n            async addNewFile(){\n                const addfile = document.getElementById(\"addfile\");\n                // const btn = document.getElementById(\"addfile-btn\");\n                const text = document.getElementById(\"addfile-text\");\n            \n                addfile.addEventListener(\"change\", function(){\n                    if(addfile.value){\n                        text.innerText = addfile.value.split('\\\\').pop().split('/').pop();\n                    }\n                    else{\n                        text.innerText = \"Файл не выбран\";\n                    }\n                })\n            },\n            async createOther() {\n                let formData = new FormData();\n                fetch('http://192.168.31.180:4554', {\n                    method: 'POST',\n                    // headers: {\n                    //     'Content-Type': 'multipart/form-data'\n                    // },\n                    body: formData.append('file','addfile') \n                })\n                .then(res => res.formData())\n                // .then(data => console.log(res.json()))\n                // console.log(responce);\n            },\n            // async setPost() {\n            //     fetch('192.168.31.180:4554/upload',{\n            //         method:  'POST',\n            //         headers: {\n            //         'Content-Type': 'application/json'\n            //         },\n            //         body: JSON.stringify({\n            //             userId: this.userId,\n            //             title:  this.title,\n            //             body:   this.body\n            //         })\n            //     })\n            //     .then(response => response.json())\n            //     .then(data => console.log(data))\n            // }\n        }\n    }\n    </script>"]},"metadata":{},"sourceType":"module"}